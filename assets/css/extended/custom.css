/* =========================================================
   PaperMod 自定义：仅影响 首页(home) 与 列表页(list)
   目标：左文右图（4:3 小缩略图），标题在上，摘要在下
   ========================================================= */

/* ✅ 卡片容器：Grid 布局，左文右图 */
.home .post-entry,
.list .post-entry {
  display: grid !important;
  grid-template-columns: 1fr 200px; /* ⭐ 小缩略图宽度（200px） */
  column-gap: 18px;
  align-items: start;
}

/* ✅ 左列：标题 / 摘要 / 日期 */
.home .post-entry .entry-header,
.home .post-entry .entry-content,
.home .post-entry .entry-footer,
.list .post-entry .entry-header,
.list .post-entry .entry-content,
.list .post-entry .entry-footer {
  grid-column: 1;
  min-width: 0;             /* 防止被挤成竖排 */
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* footer（日期）贴底（可选） */
.home .post-entry .entry-footer,
.list .post-entry .entry-footer {
  margin-top: auto;
}

/* ✅ 右列：统一 4:3 小缩略图 */
.home .post-entry .entry-cover,
.list .post-entry .entry-cover {
  grid-column: 2;
  grid-row: 1 / span 3;
  margin: 0;
  border-radius: 14px;
  overflow: hidden;

  width: 200px;             /* 与 grid 列宽一致 */
  aspect-ratio: 4 / 3;      /* ⭐ 核心：统一 4:3 */
  align-self: start;        /* ⭐ 不再被左侧内容拉伸 */
}

/* 封面图铺满缩略图 */
.home .post-entry .entry-cover img,
.list .post-entry .entry-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* ✅ 没有封面图的文章：自动单列 */
.home .post-entry:not(:has(.entry-cover)),
.list .post-entry:not(:has(.entry-cover)) {
  grid-template-columns: 1fr;
}

/* ✅ 小屏幕：恢复上图下文 */
@media (max-width: 720px) {
  .home .post-entry,
  .list .post-entry {
    grid-template-columns: 1fr !important;
    row-gap: 12px;
  }

  .home .post-entry .entry-cover,
  .list .post-entry .entry-cover {
    grid-column: 1;
    grid-row: auto;
    width: 100%;
    aspect-ratio: 4 / 3;
  }

/* =========================================================
   首页第一篇（article.first-entry）强制改为缩略卡片
   ========================================================= */

/* 1️⃣ 把 first-entry 从“hero 大块”改成和列表一样的 grid */
body.list main article.first-entry {
  display: grid !important;
  grid-template-columns: 1fr 200px !important; /* 右侧小缩略图 */
  column-gap: 18px !important;
  align-items: start !important;

  min-height: unset !important;
  margin: var(--gap) 0 !important;
  padding: var(--gap) !important;

  background: var(--entry) !important;
  border-radius: var(--radius) !important;
  border: 1px solid var(--border) !important;
}

/* 2️⃣ 左侧内容统一放在第一列 */
body.list main article.first-entry .entry-header,
body.list main article.first-entry .entry-content,
body.list main article.first-entry .entry-footer {
  grid-column: 1 !important;
  min-width: 0 !important;
}

/* 3️⃣ 右侧封面：4:3 小缩略图 */
body.list main article.first-entry figure.entry-cover {
  grid-column: 2 !important;
  grid-row: 1 / span 3 !important;

  margin: 0 !important;
  width: 200px !important;
  aspect-ratio: 4 / 3 !important;

  overflow: hidden !important;
  border-radius: 14px !important;
  align-self: start !important;
}

/* 4️⃣ ★关键一刀：干掉 height:auto，强制填满容器 */
body.list main article.first-entry figure.entry-cover img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  display: block !important;
}

/* 5️⃣ 标题别再 34px 巨大化 */
body.list main article.first-entry .entry-header h1 {
  font-size: 24px !important;
  line-height: 1.3 !important;
}

/* 6️⃣ 摘要行数与普通卡片一致 */
body.list main article.first-entry .entry-content {
  margin: 8px 0 !important;
  font-size: 14px !important;
  -webkit-line-clamp: 2 !important;
}

/* 7️⃣ 小屏幕：恢复上图下文 */
@media (max-width: 720px) {
  body.list main article.first-entry {
    grid-template-columns: 1fr !important;
    row-gap: 12px !important;
  }

  body.list main article.first-entry figure.entry-cover {
    grid-column: 1 !important;
    grid-row: auto !important;
    width: 100% !important;
    aspect-ratio: 4 / 3 !important;
  }
}

}
